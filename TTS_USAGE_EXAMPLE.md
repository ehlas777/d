# –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –æ“õ—ã—Ç—É (TTS) “õ–æ–ª–¥–∞–Ω—É –Ω“±—Å“õ–∞—É–ª—ã“ì—ã

## “ö—ã—Å“õ–∞—à–∞ —Å–∏–ø–∞—Ç—Ç–∞–º–∞

`TranscriptionTtsReader` –≤–∏–¥–∂–µ—Ç—ñ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è JSON “õ“±–∂–∞—Ç—ã–Ω–¥–∞“ì—ã ”ô—Ä —Å”©–π–ª–µ–º–¥—ñ TTS (Text-to-Speech) –∞—Ä“õ—ã–ª—ã –æ“õ—ã—Ç—ã–ø, –∞—É–¥–∏–æ —Ñ–∞–π–ª–¥–∞—Ä“ì–∞ —Ç“Ø—Ä–ª–µ–Ω–¥—ñ—Ä—ñ–ø —Å–∞“õ—Ç–∞–π–¥—ã.

## –ú“Ø–º–∫—ñ–Ω–¥—ñ–∫—Ç–µ—Ä

‚úÖ –î—ã–±—ã—Å —Ç–∞“£–¥–∞—É (OpenAI TTS –¥—ã–±—ã—Å—Ç–∞—Ä—ã —Ç—ñ–∑—ñ–º—ñ–Ω–µ–Ω)
‚úÖ –û“õ—ã—Ç—É –∂—ã–ª–¥–∞–º–¥—ã“ì—ã–Ω —Ä–µ—Ç—Ç–µ—É (0.5x - 2.0x)
‚úÖ –ë–∞—Ä–ª—ã“õ —Å”©–π–ª–µ–º–¥–µ—Ä–¥—ñ —Ä–µ—Ç—Ç–µ–ª–≥–µ–Ω –ø–∞–ø–∫–∞–¥–∞ —Å–∞“õ—Ç–∞—É
‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –∫”©—Ä—Å–µ—Ç—É (”ô—Ä —Å”©–π–ª–µ–º –æ“õ—ã–ª“ì–∞–Ω–¥–∞ –∂–∞—Å—ã–ª —Ö–∞–±–∞—Ä–ª–∞–º–∞)
‚úÖ –ê—è“õ—Ç–∞–ª“ì–∞–Ω–¥–∞ "–ö–µ–ª–µ—Å—ñ “õ–∞–¥–∞–º" –±–∞—Ç—ã—Ä–º–∞—Å—ã
‚úÖ API rate limit-—Ç—ñ –µ—Å–∫–µ—Ä–µ –æ—Ç—ã—Ä—ã–ø –∞–≤—Ç–æ–º–∞—Ç—Ç—ã –∫—ñ–¥—ñ—Ä—ñ—Å

## “ö–æ–ª–¥–∞–Ω—É –º—ã—Å–∞–ª—ã

```dart
import 'package:flutter/material.dart';
import 'widgets/transcription_tts_reader.dart';
import 'models/transcription_result.dart';

class TranscriptionPage extends StatelessWidget {
  final TranscriptionResult result;
  final String authToken;

  const TranscriptionPage({
    super.key,
    required this.result,
    required this.authToken,
  });

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: const Text('–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –æ“õ—ã—Ç—É')),
      body: SingleChildScrollView(
        padding: const EdgeInsets.all(16),
        child: TranscriptionTtsReader(
          result: result,
          baseUrl: 'http://localhost:5008', // –Ω–µ–º–µ—Å–µ production URL
          authToken: authToken,
        ),
      ),
    );
  }
}
```

## –ñ“±–º—ã—Å –ø—Ä–æ—Ü–µ—Å—ñ

1. **–î—ã–±—ã—Å —Ç–∞“£–¥–∞—É**: –í–∏–¥–∂–µ—Ç –∂“Ø–∫—Ç–µ–ª–≥–µ–Ω–¥–µ –∞–≤—Ç–æ–º–∞—Ç—Ç—ã —Ç“Ø—Ä–¥–µ –±–∞—Ä–ª—ã“õ “õ–æ–ª–∂–µ—Ç—ñ–º–¥—ñ –¥—ã–±—ã—Å—Ç–∞—Ä–¥—ã –∂“Ø–∫—Ç–µ–π–¥—ñ
2. **–ü–∞—Ä–∞–º–µ—Ç—Ä–ª–µ—Ä–¥—ñ –æ—Ä–Ω–∞—Ç—É**:
   - –î—ã–±—ã—Å—Ç—ã —Ç–∞“£–¥–∞“£—ã–∑ (dropdown-—Ç–∞–Ω)
   - –ñ—ã–ª–¥–∞–º–¥—ã“õ—Ç—ã —Ä–µ—Ç—Ç–µ“£—ñ–∑ (slider –∞—Ä“õ—ã–ª—ã, ”ô–¥–µ–ø–∫—ñ 1.0x)
3. **–û“õ—ã—Ç—É–¥—ã –±–∞—Å—Ç–∞—É**: "–û“õ—ã—Ç—É–¥—ã –±–∞—Å—Ç–∞—É" –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω –±–∞—Å—ã“£—ã–∑
4. **–ü—Ä–æ–≥—Ä–µ—Å—Å –∫”©—Ä—É**:
   - –ñ–æ“ì–∞—Ä“ì—ã –±”©–ª—ñ–∫—Ç–µ progress bar
   - –û—Ä—Ç–∞–¥–∞ "N-—Å”©–π–ª–µ–º –æ“õ—ã–ª—É–¥–∞..." –¥–µ–≥–µ–Ω —Ö–∞–±–∞—Ä–ª–∞–º–∞
   - –¢”©–º–µ–Ω–≥—ñ –±”©–ª—ñ–∫—Ç–µ –æ“õ—ã–ª“ì–∞–Ω —Å”©–π–ª–µ–º–¥–µ—Ä —Ç—ñ–∑—ñ–º—ñ (–∂–∞—Å—ã–ª –∂–æ–ª–º–µ–Ω)
5. **–ê—è“õ—Ç–∞–ª“ì–∞–Ω–¥–∞**: "–ö–µ–ª–µ—Å—ñ “õ–∞–¥–∞–º" –±–∞—Ç—ã—Ä–º–∞—Å—ã –ø–∞–π–¥–∞ –±–æ–ª–∞–¥—ã

## –§–∞–π–ª–¥–∞—Ä —Å–∞“õ—Ç–∞–ª—É –æ—Ä–Ω—ã

–ë–∞—Ä–ª—ã“õ –∞—É–¥–∏–æ —Ñ–∞–π–ª–¥–∞—Ä –∫–µ–ª–µ—Å—ñ –ø–∞–ø–∫–∞ “õ“±—Ä—ã–ª—ã–º—ã–Ω–¥–∞ —Å–∞“õ—Ç–∞–ª–∞–¥—ã:

```
/Application Documents/
  ‚îî‚îÄ‚îÄ tts_{filename}_{timestamp}/
      ‚îú‚îÄ‚îÄ segment_1.mp3
      ‚îú‚îÄ‚îÄ segment_2.mp3
      ‚îú‚îÄ‚îÄ segment_3.mp3
      ‚îî‚îÄ‚îÄ ...
```

–ú—ã—Å–∞–ª—ã:
```
/Users/username/Library/Application Support/qaznat_vt/
  ‚îî‚îÄ‚îÄ tts_interview_1701234567890/
      ‚îú‚îÄ‚îÄ segment_1.mp3   # 1-—à—ñ —Å”©–π–ª–µ–º
      ‚îú‚îÄ‚îÄ segment_2.mp3   # 2-—à—ñ —Å”©–π–ª–µ–º
      ‚îî‚îÄ‚îÄ segment_3.mp3   # 3-—à—ñ —Å”©–π–ª–µ–º
```

## “ö–∞—Ç–µ ”©“£–¥–µ—É

- **–î—ã–±—ã—Å—Ç–∞—Ä –∂“Ø–∫—Ç–µ–ª–º–µ–¥—ñ**: –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –±–∞–π–ª–∞–Ω—ã—Å—ã–Ω –Ω–µ–º–µ—Å–µ authToken-–¥—ñ —Ç–µ–∫—Å–µ—Ä—ñ“£—ñ–∑
- **TTS “õ–∞—Ç–µ—Å—ñ**: API key-–¥—ñ“£ –¥“±—Ä—ã—Å—Ç—ã“ì—ã–Ω –∂”ô–Ω–µ –ª–∏–º–∏—Ç—Ç—ñ —Ç–µ–∫—Å–µ—Ä—ñ“£—ñ–∑
- **–°”©–π–ª–µ–º “õ–∞—Ç–µ—Å—ñ**: –ñ–µ–∫–µ–ª–µ–≥–µ–Ω —Å”©–π–ª–µ–º–¥–µ—Ä “õ–∞—Ç–µ –±–æ–ª—Å–∞, “õ–∞–ª“ì–∞–Ω —Å”©–π–ª–µ–º–¥–µ—Ä –∂–∞–ª“ì–∞—Å–∞–¥—ã

## –¢–µ—Ö–Ω–∏–∫–∞–ª—ã“õ –∞“õ–ø–∞—Ä–∞—Ç

### “ö–∞–∂–µ—Ç—Ç—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–ª–µ—Ä

- `result`: TranscriptionResult –æ–±—ä–µ–∫—Ç—ñ—Å—ñ (segments —Ç—ñ–∑—ñ–º—ñ–º–µ–Ω)
- `baseUrl`: Backend API –º–µ–∫–µ–Ω–∂–∞–π—ã
- `authToken`: Bearer —Ç–æ–∫–µ–Ω (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è “Ø—à—ñ–Ω)

### API Endpoints

- `GET /api/openaitts/voices` - –î—ã–±—ã—Å—Ç–∞—Ä —Ç—ñ–∑—ñ–º—ñ
- `POST /api/openaitts/convert` - –¢–µ–∫—Å—Ç—Ç—ñ –∞—É–¥–∏–æ“ì–∞ —Ç“Ø—Ä–ª–µ–Ω–¥—ñ—Ä—É

### –¢”ô—É–µ–ª–¥—ñ–ª—ñ–∫—Ç–µ—Ä

```yaml
dependencies:
  http: ^1.2.2
  path_provider: ^2.1.5
  audioplayers: ^6.1.0  # (“õ–æ—Å—ã–º—à–∞ –æ–π–Ω–∞—Ç—É “Ø—à—ñ–Ω)
```

## –ö–µ–ª–µ—à–µ–∫—Ç–µ–≥—ñ –∂–∞“õ—Å–∞—Ä—Ç—É–ª–∞—Ä

- ‚èØÔ∏è –ê—É–¥–∏–æ –æ–π–Ω–∞—Ç—É (inline player)
- üì• ZIP –∞—Ä—Ö–∏–≤–∫–µ —ç–∫—Å–ø–æ—Ä—Ç
- üîÑ “ö–∞–π—Ç–∞ –æ“õ—ã—Ç—É (failed segments)
- ‚è∏Ô∏è Pause/Resume –º“Ø–º–∫—ñ–Ω–¥—ñ–≥—ñ
- üéöÔ∏è Batch size —Ä–µ—Ç—Ç–µ—É (rate limit –±–∞—Å“õ–∞—Ä—É)
